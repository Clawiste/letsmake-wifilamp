platform :ios, "11.0"
use_frameworks!

def shared_pods
    pod 'Alamofire'
    pod 'AwaitKit', '~> 3.0.1'
    pod 'R.swift'
end

target 'wifilamp' do
	shared_pods
	pod 'QRCodeReader.swift'
    pod 'SwiftLint'
    pod 'Swinject'
    pod 'SVProgressHUD', '~> 2.2.2'
end

target 'today' do
    shared_pods
end

post_install do |installer|
    # Set optim level to pods targets
    installer.pods_project.targets.each do |target|
        target.build_configurations.each do |config|
            if config.name == 'Release'
                config.build_settings['SWIFT_OPTIMIZATION_LEVEL'] = '-Owholemodule'
                else
                config.build_settings['SWIFT_OPTIMIZATION_LEVEL'] = '-Onone'
            end
        end
    end
end
